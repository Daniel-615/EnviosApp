<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actualizar Detalle de Facturación</title>
</head>
<body>
    <h1>Actualizar Detalle de Facturación</h1>
    
    <form method="POST">
        {% csrf_token %}
        
        <label for="factura">Factura:</label>
        <select name="factura" id="factura" required>
            {% for factura in facturas %}
                <option value="{{ factura.id }}" {% if detalle.factura_id == factura.id %}selected{% endif %}>Factura #{{ factura.id }} - Cliente: {{ factura.cliente.nombre }}</option>
            {% endfor %}
        </select><br><br>

        <label for="producto">Producto:</label>
        <input type="text" name="producto" id="producto" value="{{ detalle.producto }}" required><br><br>

        <label for="cantidad">Cantidad:</label>
        <input type="number" name="cantidad" id="cantidad" value="{{ detalle.cantidad }}" required><br><br>

        <label for="precio_unitario">Precio Unitario:</label>
        <input type="number" step="0.01" name="precio_unitario" id="precio_unitario" value="{{ detalle.precio_unitario }}" required><br><br>

        <button type="submit">Actualizar Detalle</button>
    </form>

    <a href="{% url 'listar_facturacion_detalle' %}">Volver al listado</a>
</body>
</html>
